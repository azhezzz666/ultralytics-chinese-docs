---
comments: true
description: 学习标注计算机视觉数据的基本数据预处理技术，包括调整大小、归一化、增强和拆分数据集以实现最佳模型训练。
keywords: 数据预处理, 计算机视觉, 图像调整大小, 归一化, 数据增强, 训练数据集, 验证数据集, 测试数据集, YOLO11
---

# 标注[计算机视觉](https://www.ultralytics.com/glossary/computer-vision-cv)数据的数据预处理技术

## 简介

在定义了计算机视觉[项目目标](./defining-project-goals.md)并[收集和标注数据](./data-collection-and-annotation.md)之后，下一步是预处理标注数据并为模型训练做准备。干净且一致的数据对于创建性能良好的模型至关重要。

<p align="center">
  <br>
  <iframe loading="lazy" width="720" height="405" src="https://www.youtube.com/embed/E_d7xuY4hEk"
    title="YouTube video player" frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    allowfullscreen>
  </iframe>
  <br>
  <strong>观看：</strong>如何使用数据预处理和增强来提高真实场景中的模型准确性 🚀
</p>

预处理是[计算机视觉项目工作流程](./steps-of-a-cv-project.md)中的一个步骤，包括调整图像大小、归一化像素值、增强数据集以及将数据拆分为训练集、验证集和测试集。让我们探索清理数据的基本技术和最佳实践！

## 数据预处理的重要性

我们已经在仔细收集和标注数据时考虑了多种因素。那么，是什么使数据预处理对计算机视觉项目如此重要呢？数据预处理的核心是将数据转换为适合训练的格式，以减少计算负载并帮助提高模型性能。以下是预处理解决的原始数据中的一些常见问题：

- **噪声**：数据中不相关或随机的变化。
- **不一致性**：图像大小、格式和质量的变化。
- **不平衡**：数据集中类别或类别的分布不均匀。

## 数据预处理技术

数据预处理的首要步骤之一是调整大小。某些模型设计为处理可变输入大小，但许多模型需要一致的输入大小。调整图像大小使它们统一并降低计算复杂性。

### 调整图像大小

您可以使用以下方法调整图像大小：

- **双线性插值**：通过取四个最近像素值的加权平均值来平滑像素值。
- **最近邻**：分配最近的像素值而不进行平均，导致图像呈块状但计算更快。

为了简化调整大小任务，您可以使用以下工具：

- **[OpenCV](https://www.ultralytics.com/glossary/opencv)**：一个流行的计算机视觉库，具有广泛的图像处理功能。
- **PIL (Pillow)**：一个用于打开、操作和保存图像文件的 Python 图像库。

对于 YOLO11，[模型训练](../modes/train.md)期间的 'imgsz' 参数允许灵活的输入大小。当设置为特定大小（如 640）时，模型将调整输入图像的大小，使其最大尺寸为 640 像素，同时保持原始宽高比。

通过评估模型和数据集的特定需求，您可以确定调整大小是否是必要的预处理步骤，或者您的模型是否可以有效处理不同大小的图像。

### 归一化像素值

另一种预处理技术是归一化。归一化将像素值缩放到标准范围，这有助于训练期间更快收敛并提高模型性能。以下是一些常见的归一化技术：

- **最小-最大缩放**：将像素值缩放到 0 到 1 的范围。
- **Z 分数归一化**：根据像素值的均值和标准差进行缩放。

对于 YOLO11，归一化作为模型训练期间预处理管道的一部分无缝处理。YOLO11 自动执行多个预处理步骤，包括转换为 RGB、将像素值缩放到 [0, 1] 范围，以及使用预定义的均值和标准差值进行归一化。

### 拆分数据集

清理数据后，您就可以拆分数据集了。将数据拆分为训练集、验证集和测试集是为了确保模型可以在未见过的数据上进行评估，以评估其泛化性能。常见的拆分是 70% 用于训练，20% 用于验证，10% 用于测试。您可以使用各种工具和库来拆分数据，如 [scikit-learn](https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.train_test_split.html) 或 [TensorFlow](https://www.ultralytics.com/glossary/tensorflow)。

拆分数据集时请考虑以下几点：

- **保持数据分布**：确保类别的数据分布在训练集、验证集和测试集中保持一致。
- **避免数据泄漏**：通常，数据增强在数据集拆分后进行。数据增强和任何其他预处理应仅应用于训练集，以防止验证集或测试集的信息影响模型训练。
- **平衡类别**：对于不平衡的数据集，考虑在训练集中对少数类进行过采样或对多数类进行欠采样等技术。

### 什么是数据增强？

最常讨论的数据预处理步骤是数据增强。数据增强通过创建图像的修改版本来人为增加数据集的大小。通过增强数据，您可以减少[过拟合](https://www.ultralytics.com/glossary/overfitting)并提高模型泛化能力。

以下是数据增强的其他一些好处：

- **创建更强大的数据集**：数据增强可以使模型对输入数据中的变化和失真更加稳健。这包括光照、方向和比例的变化。
- **成本效益**：数据增强是一种经济有效的方式，可以在不收集和标注新数据的情况下增加[训练数据](https://www.ultralytics.com/glossary/training-data)量。
- **更好地利用数据**：通过创建新的变体，每个可用数据点都被充分利用。

#### 数据增强方法

常见的增强技术包括翻转、旋转、缩放和颜色调整。多个库（如 [Albumentations](../integrations/albumentations.md)、Imgaug 和 TensorFlow 的 ImageDataGenerator）可以生成这些增强。

<p align="center">
  <img width="100%" src="https://github.com/ultralytics/docs/releases/download/0/overview-of-data-augmentations.avif" alt="数据增强概述">
</p>

对于 YOLO11，您可以通过修改数据集配置文件（.yaml 文件）来[增强自定义数据集](../modes/train.md)。在此文件中，您可以添加一个增强部分，其中包含指定如何增强数据的参数。

[Ultralytics YOLO11 仓库](https://github.com/ultralytics/ultralytics/tree/main)支持广泛的数据增强。您可以应用各种变换，例如：

- 随机裁剪
- 翻转：图像可以水平或垂直翻转。
- 旋转：图像可以按特定角度旋转。
- 失真

此外，您可以通过特定参数调整这些增强技术的强度，以生成更多数据变化。

## 预处理案例研究

考虑一个旨在开发模型来检测和分类交通图像中不同类型车辆的项目，使用 YOLO11。我们已经收集了交通图像并用边界框和标签进行了标注。

以下是此项目每个预处理步骤的样子：

- **调整图像大小**：由于 YOLO11 处理灵活的输入大小并自动执行调整大小，因此不需要手动调整大小。模型将根据训练期间指定的 'imgsz' 参数调整图像大小。
- **归一化像素值**：YOLO11 在预处理期间自动将像素值归一化到 0 到 1 的范围，因此不需要手动操作。
- **拆分数据集**：使用 scikit-learn 等工具将数据集分为训练集（70%）、验证集（20%）和测试集（10%）。
- **[数据增强](https://www.ultralytics.com/glossary/data-augmentation)**：修改数据集配置文件（.yaml）以包含数据增强技术，如随机裁剪、水平翻转和亮度调整。

这些步骤确保数据集准备就绪，没有任何潜在问题，并为探索性数据分析（EDA）做好准备。

## 探索性数据分析技术

在预处理和增强数据集后，下一步是通过探索性数据分析获得洞察。EDA 使用统计技术和可视化工具来理解数据中的模式和分布。您可以识别类别不平衡或异常值等问题，并就进一步的数据预处理或模型训练调整做出明智的决策。

### 统计 EDA 技术

统计技术通常从计算基本指标开始，如均值、中位数、标准差和范围。这些指标提供了图像数据集属性的快速概览，如像素强度分布。理解这些基本统计数据有助于您掌握数据的整体质量和特征，使您能够及早发现任何异常。

### 可视化 EDA 技术

可视化是图像数据集 EDA 的关键。例如，类别不平衡分析是 EDA 的另一个重要方面。它有助于确定数据集中某些类别是否代表不足。使用条形图可视化不同图像类别或类别的分布可以快速揭示任何不平衡。同样，可以使用箱线图等可视化工具识别异常值，这些工具突出显示像素强度或特征分布中的异常。异常值检测可防止异常数据点扭曲结果。

常见的可视化工具包括：

- **直方图和箱线图**：用于理解像素值的分布和识别异常值。
- **散点图**：有助于探索图像特征或标注之间的关系。
- **热图**：有效可视化像素强度的分布或图像内标注特征的空间分布。

### 使用 Ultralytics Explorer 进行 EDA

!!! warning "社区说明"

    从 **`ultralytics>=8.3.10`** 开始，Ultralytics Explorer 支持已弃用。类似（和扩展的）数据集探索功能可在 [Ultralytics HUB](https://hub.ultralytics.com/) 中使用。

对于更高级的 EDA 方法，您可以使用 Ultralytics Explorer 工具。它为探索计算机视觉数据集提供了强大的功能。通过支持语义搜索、SQL 查询和向量相似性搜索，该工具使分析和理解数据变得容易。使用 Ultralytics Explorer，您可以为数据集创建[嵌入](https://www.ultralytics.com/glossary/embeddings)以查找相似图像、运行 SQL 查询进行详细分析，以及执行语义搜索，所有这些都通过用户友好的图形界面完成。

<p align="center">
  <img width="100%" src="https://github.com/ultralytics/docs/releases/download/0/ultralytics-explorer-openai-integration.avif" alt="Ultralytics Explorer 概述">
</p>

## 联系和交流

与其他计算机视觉爱好者讨论您的项目可以从不同角度为您带来新想法。以下是一些学习、故障排除和建立联系的好方法：

### 与社区联系的渠道

- **GitHub Issues：** 访问 YOLO11 GitHub 仓库并使用 [Issues 标签](https://github.com/ultralytics/ultralytics/issues)提出问题、报告错误和建议功能。社区和维护者会帮助您解决遇到的任何问题。
- **Ultralytics Discord 服务器：** 加入 [Ultralytics Discord 服务器](https://discord.com/invite/ultralytics)与其他用户和开发者联系，获得支持，分享知识，并集思广益。

### 官方文档

- **Ultralytics YOLO11 文档：** 参阅[官方 YOLO11 文档](./index.md)获取关于众多计算机视觉任务和项目的全面指南和宝贵见解。

## 您的数据集已准备就绪！

正确调整大小、归一化和增强的数据通过减少噪声和提高泛化能力来改善模型性能。通过遵循本指南中概述的预处理技术和最佳实践，您可以创建一个可靠的数据集。准备好预处理的数据集后，您可以自信地继续项目的下一步。

## 常见问题

### 数据预处理在计算机视觉项目中的重要性是什么？

数据预处理在计算机视觉项目中至关重要，因为它确保数据干净、一致，并且格式最适合模型训练。通过解决原始数据中的噪声、不一致性和不平衡等问题，调整大小、归一化、增强和数据集拆分等预处理步骤有助于减少计算负载并提高模型性能。有关更多详细信息，请访问[计算机视觉项目的步骤](../guides/steps-of-a-cv-project.md)。

### 如何使用 Ultralytics YOLO 进行数据增强？

对于使用 Ultralytics YOLO11 进行数据增强，您需要修改数据集配置文件（.yaml）。在此文件中，您可以指定各种增强技术，如随机裁剪、水平翻转和亮度调整。这可以使用[此处解释](../modes/train.md)的训练配置有效完成。数据增强有助于创建更强大的数据集，减少[过拟合](https://www.ultralytics.com/glossary/overfitting)，并提高模型泛化能力。

### 计算机视觉数据的最佳数据归一化技术是什么？

归一化将像素值缩放到标准范围，以便在训练期间更快收敛并提高性能。常见技术包括：

- **最小-最大缩放**：将像素值缩放到 0 到 1 的范围。
- **Z 分数归一化**：根据像素值的均值和标准差进行缩放。

对于 YOLO11，归一化会自动处理，包括转换为 RGB 和像素值缩放。在[模型训练部分](../modes/train.md)了解更多信息。

### 如何拆分标注数据集用于训练？

要拆分数据集，常见做法是将其分为 70% 用于训练，20% 用于验证，10% 用于测试。重要的是在这些拆分中保持类别的数据分布，并通过仅在训练集上执行增强来避免数据泄漏。使用 scikit-learn 或 [TensorFlow](https://www.ultralytics.com/glossary/tensorflow) 等工具进行高效的数据集拆分。请参阅[数据集准备](../guides/data-collection-and-annotation.md)的详细指南。

### YOLO11 可以在不手动调整大小的情况下处理不同大小的图像吗？

是的，Ultralytics YOLO11 可以通过模型训练期间的 'imgsz' 参数处理不同大小的图像。此参数确保图像被调整大小，使其最大尺寸与指定大小（例如 640 像素）匹配，同时保持宽高比。有关更灵活的输入处理和自动调整，请查看[模型训练部分](../modes/train.md)。
